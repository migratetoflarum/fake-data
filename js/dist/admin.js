(()=>{var t={n:o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return t.d(n,{a:n}),n},d:(o,n)=>{for(var a in n)t.o(n,a)&&!t.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:n[a]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};(()=>{"use strict";t.r(o);const n=flarum.core.compat["admin/app"];var a=t.n(n);function r(t,o){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},r(t,o)}function e(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,r(t,o)}const s=flarum.core.compat["admin/components/ExtensionPage"];var u=t.n(s);const i=flarum.core.compat["common/app"];var l=t.n(i);const c=flarum.core.compat["common/Component"];var d=t.n(c);const p=flarum.core.compat["common/components/Button"];var f=t.n(p);const g=flarum.core.compat["common/components/Switch"];var v=t.n(g);const b=flarum.core.compat["common/helpers/icon"];var h=t.n(b),y="migratetoflarum-fake-data.lib.generator.",C=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this).bulk=!1,o.userCount=0,o.discussionCount=0,o.discussionTag="none",o.postCount=0,o.dateStart="",o.dateInterval="",o.dirty=!1,o.loading=!1,o.output=null,o}return e(o,t),o.prototype.view=function(){var t=this,o=this.loading||this.output;return[m(".Form-group",[v().component({state:this.bulk,onchange:function(o){t.bulk=o},disabled:o},l().translator.trans(y+"bulk-mode")),m(".helpText",l().translator.trans(y+"bulk-mode-description"))]),m(".Form-group",[m("label",l().translator.trans(y+"user-count")),m("input.FormControl",{type:"number",min:"0",value:this.userCount+"",oninput:function(o){t.userCount=parseInt(o.target.value),t.dirty=!0},disabled:o})]),this.attrs.discussion?null:[m(".Form-group",[m("label",l().translator.trans(y+"discussion-count")),m("input.FormControl",{type:"number",min:"0",value:this.discussionCount+"",oninput:function(o){t.discussionCount=parseInt(o.target.value),t.dirty=!0},disabled:o})]),flarum.extensions["flarum-tags"]?m(".Form-group",[m("label",l().translator.trans(y+"discussion-tags")),m("span.Select",[m("select.Select-input.FormControl",{onchange:function(o){t.discussionTag=o.target.value},value:this.discussionTag,disabled:o},[m("option",{value:"none"},l().translator.trans(y+"discussion-tags-none")),m("option",{value:"random"},l().translator.trans(y+"discussion-tags-random")),flarum.core.compat["tags/utils/sortTags"](l().store.all("tags")).map((function(t){var o=t.name(),n=[t.id()];if(t.isChild()){var a=t.parent();o=a.name()+" / "+o,n.push(a.id())}var r=n.sort().join(",");return m("option",{value:r},o)}))]),h()("fas fa-sort",{className:"Select-caret"})])]):null],m(".Form-group",[m("label",l().translator.trans(y+"post-count")),m("input.FormControl",{type:"number",min:"0",value:this.postCount+"",oninput:function(o){t.postCount=parseInt(o.target.value),t.dirty=!0},disabled:o})]),m(".Form-group.FakeData-Date",[m("label",l().translator.trans(y+"date")),m("input.FormControl",{type:"text",value:this.dateStart+"",oninput:function(o){t.dateStart=o.target.value,t.dirty=!0},disabled:o,placeholder:l().translator.trans(y+"date-start-placeholder")}),m("input.FormControl",{type:"text",value:this.dateInterval+"",oninput:function(o){t.dateInterval=o.target.value,t.dirty=!0},disabled:o,placeholder:l().translator.trans(y+"date-interval-placeholder")})]),m(".Form-group",[null===this.output?f().component({disabled:!this.dirty,loading:this.loading,className:"Button Button--primary",onclick:function(){t.loading=!0;var o={bulk:t.bulk,user_count:t.userCount,post_count:t.postCount,date_start:t.dateStart,date_interval:t.dateInterval};t.attrs.discussion?(o.discussion_count=0,o.discussion_ids=[t.attrs.discussion.id()]):(o.discussion_count=t.discussionCount,"random"===t.discussionTag?o.tag_ids="random":"none"!==t.discussionTag&&(o.tag_ids=t.discussionTag.split(","))),l().request({url:l().forum.attribute("apiUrl")+"/fake-data",method:"POST",body:o}).then((function(o){t.dirty=!1,t.loading=!1,t.output=o&&o.output||"<no output>",m.redraw()})).catch((function(o){throw t.loading=!1,m.redraw(),o}))}},l().translator.trans(y+"send")):[f().component({className:"Button",onclick:function(){t.userCount=0,t.discussionCount=0,t.discussionTag="none",t.postCount=0,t.output=null}},l().translator.trans(y+"reset")),this.attrs.discussion?[f().component({className:"Button Button--primary",onclick:function(){l().modal.close(),window.location.reload()}},l().translator.trans(y+"refresh"))]:null,m("pre",this.output)]])]},o}(d()),_=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.content=function(){return m(".ExtensionPage-settings",m(".container",C.component()))},o}(u());a().initializers.add("migratetoflarum-fake-data",(function(){a().extensionData.for("migratetoflarum-fake-data").registerPage(_)}))})(),module.exports=o})();
//# sourceMappingURL=admin.js.map